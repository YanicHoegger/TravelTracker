@using Microsoft.AspNetCore.Identity.EntityFrameworkCore
@model IdentityUser


@{
    ViewData["Title"] = Html.DisplayFor(model => model.UserName);
}

@section Stylesheets{
    <link rel="stylesheet" href="~/css/userDetails.css" />
}

@section Scripts{
    <script src="~/js/userDetails.js"></script>
}

<h2>User Details</h2>

<div class="panel-group" id="accordion">
  <div class="panel panel-default">
    <userdetails name="Username" value="@Model.UserName" content-href="#collapse1"></userdetails>
    <div id="collapse1" class="panel-collapse collapse">
      <div class="panel-body">
		<form method="POST" asp-controller="User" asp-action="ChangeUserName">
            <div class="form-group">
                <label>New Username</label>
                <input type="text" name="newUserName" value="@Model.UserName" class="form-control"/>
            </div>
            <input type="submit" value="Save" class="btn btn-primary"/>
        </form>
	  </div>
    </div>
  </div>
  <div class="panel panel-default">
    <userdetails name="Email" value="@Model.Email" content-href="#collapse2"></userdetails>
    <div id="collapse2" class="panel-collapse collapse">
      <div class="panel-body">
        <form method="POST" asp-controller="User" asp-action="ChangeEmail">
            <div class="form-group">
                <label>New Email</label>
                <input type="text" name="newEmail" value="@Model.Email" class="form-control"/>
            </div>
            <input type="submit" value="Save" class="btn btn-primary"/>
        </form>
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <userdetails name="Password" value="" content-href="#collapse3"></userdetails>
    <div id="collapse3" class="panel-collapse collapse">
	    <div class="panel-body">	
            <form method="POST" asp-controller="User" asp-action="ChangePassword">
                <div class="form-group">
                    <label>Current Password</label>
                    <input type="password" name="currentPassword" class="form-control"/>
                </div>
    			<div class="form-group">
                    <label>New Password</label>
                    <input type="password" name="newPassword" class="form-control"/>
                </div>
    			<div class="form-group">
                    <label>Retype New Password</label>
                    <input type="password" name="retypeNewPassword" class="form-control"/>
                </div>
                <input type="submit" value="Save" class="btn btn-primary"/>
            </form>
	    </div>
    </div>
  </div>
</div>